apiVersion: v1
kind: ConfigMap
metadata:
  name: "{{ .Values.postgresql.fullnameOverride }}-extra-env-vars"
data:
{{- if .Values.backupRestore.recoveryMode.enabled }}
  MAGDA_RECOVERY_MODE: "true"
  MAGDA_RECOVERY_BASE_BACKUP_NAME: {{ .Values.backupRestore.recoveryMode.baseBackupName | quote }}
{{- end }}
{{- range $key, $value := .Values.extraEnvVars }}
{{- if not (empty $key) -}}
  {{ $key }}: {{ $value | quote }}
{{- end }}
{{- end }}
