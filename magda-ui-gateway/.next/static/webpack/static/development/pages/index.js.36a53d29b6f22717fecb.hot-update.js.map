{"version":3,"file":"static/webpack/static/development/pages/index.js.36a53d29b6f22717fecb.hot-update.js","sources":["webpack:///./pages/index.tsx"],"sourcesContent":["import React from \"react\";\nimport fetch from \"isomorphic-fetch\";\n\ntype Props = {\n    headerText?: string;\n};\n\nclass Home extends React.Component<Props> {\n    // state = {} as {\n    //     headerText?: string;\n    // };\n\n    static async getInitialProps(ctx: any) {\n        async function parseHtmlNode(html: string): Promise<Document> {\n            const { JSDOM } = await import(\"jsdom\");\n\n            const { document: doc } = new JSDOM(html).window;\n\n            return doc;\n        }\n\n        async function parseHtmlBrowser(html: string): Promise<Document> {\n            const parser = new DOMParser();\n            const doc = parser.parseFromString(html, \"text/html\");\n            return doc;\n        }\n        const response = await fetch(\"http://localhost:3001/header\");\n        const text = await response.text();\n\n        const doc = await (typeof window !== \"undefined\"\n            ? parseHtmlBrowser(text)\n            : parseHtmlNode(text));\n\n        return {\n            headerText: doc.body.innerHTML\n        };\n    }\n\n    render() {\n        return (\n            <div>\n                {this.props.headerText && (\n                    <header\n                        dangerouslySetInnerHTML={{\n                            __html: this.props.headerText\n                        }}\n                    />\n                )}\n                <div>body</div>\n            </div>\n        );\n    }\n}\n\nexport default Home;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAKA;;;;;;;;;;;;;AA+BA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AADA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;;;AA3CA;AACA;AACA;;;;AAEA;AACA;AACA;;;;;;;;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAFA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;AAAA;;;;;;;AARA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AAEA;AAHA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;AAAA;;;;;AAaA;AACA;;AADA;;AACA;AACA;;AADA;;AAEA;AACA;;AADA;AAIA;AACA;AADA;AACA;;;;;;;;;;;;;;;;;;AA3BA;AACA;AA8CA;;;;A","sourceRoot":""}