akka {
  loglevel = DEBUG
  http {
    client.parsing.max-content-length = 50000000
    server.request-timeout = 30 s
  }
}

http {
  interface = "0.0.0.0"
  port = 80
}

indexer {
	alwaysReindex = false
	makeSnapshots = true
	readSnapshots = true
}

indexedServices = {
  dga {
    name = "data.gov.au"
  	type = "CKAN"
    baseUrl = "https://data.gov.au/"
    pageSize = 100
    landingPageTemplate = "https://data.gov.au/dataset/%s"
    ignoreHarvestSources = [
    	"FIND (http://find.ga.gov.au) CSW Harvester",
    	"Brisbane City Council CKAN Harvester",
    	"Data NSW CKAN Harvester",
    	"Data SA CKAN Harvester"
    ]
    fake {
    	dataFilePath = "/dga1000.json"
      mimeType: "application/json"
    }
  }
  find-api {
  	name = "GA FIND"
    baseUrl = "http://find.ga.gov.au/FIND/geonetwork/srv/eng/"
  	type = "CSW"
  	schema = "http://www.isotc211.org/2005/gmd"
    pageSize = 100
    landingPageTemplate = "http://find.ga.gov.au/FIND/metadata-record/uuid/%s"
    fake {
    	dataFilePath = "/find-gmd-1000.xml"
    	mimeType: "text/xml"
    }
  },
  dqldga {
    name = "data.qld.gov.au"
  	type = "CKAN"
    baseUrl = "https://data.qld.gov.au:443/"
    pageSize = 100
    landingPageTemplate = "https://data.qld.gov.au/dataset/%s"
    ignoreHarvestSources = []
    fake {
    	dataFilePath = "/dqldga-100.json"
      mimeType: "application/json"
    }
  },
  brisbane-city-council {
    name = "Brisbane City Council"
  	type = "CKAN"
    baseUrl = "https://www.data.brisbane.qld.gov.au/data/"
    pageSize = 100
    landingPageTemplate = "https://www.data.brisbane.qld.gov.au/data/dataset/%s"
    ignoreHarvestSources = []
    fake {
    	dataFilePath = "/brisbane-100.json"
      mimeType: "application/json"
    }
  },
  dnswga {
    name = "data.nsw.gov.au"
  	type = "CKAN"
    baseUrl = "http://data.nsw.gov.au/data/"
    pageSize = 100
    landingPageTemplate = "http://data.nsw.gov.au/data/dataset/%s"
    ignoreHarvestSources = []
    fake {
    	dataFilePath = "/dgnsw-100.json"
      mimeType: "application/json"
    }
  },
  dvicga {
    name = "data.vic.gov.au"
  	type = "CKAN"
    baseUrl = "https://www.data.vic.gov.au/data/"
    pageSize = 100
    landingPageTemplate = "https://www.data.vic.gov.au/data/dataset/%s"
    ignoreHarvestSources = []
    fake {
    	dataFilePath = "/dgvic-100.json"
      mimeType: "application/json"
    }
  },
  dsaga {
    name = "data.sa.gov.au"
  	type = "CKAN"
    baseUrl = "https://data.sa.gov.au/data/"
    pageSize = 100
    landingPageTemplate = "https://data.sa.gov.au/data/dataset/%s"
    ignoreHarvestSources = []
    fake {
    	dataFilePath = "/dsaga.json"
      mimeType: "application/json"
    }
  },
  dwaga {
    name = "data.wa.gov.au"
  	type = "CKAN"
    baseUrl = "http://catalogue.beta.data.wa.gov.au/"
    pageSize = 100
    landingPageTemplate = "http://catalogue.beta.data.wa.gov.au/dataset/%s"
    ignoreHarvestSources = []
    fake {
    	dataFilePath = "/dwaga.json"
      mimeType: "application/json"
    }
  },
  sydney {
    name = "City of Sydney"
  	type = "CKAN"
    baseUrl = "http://data.cityofsydney.nsw.gov.au/"
    pageSize = 100
    landingPageTemplate = "https://data.cityofsydney.nsw.gov.au/dataset/%s"
    ignoreHarvestSources = []
    fake {
    	dataFilePath = "/sydney.json"
      mimeType: "application/json"
    }
  }
}

regionSources {
  SA4 {
    url = "https://s3-ap-southeast-2.amazonaws.com/magda-files/SA4.geojson"
    idField = "SA4_CODE11"
    nameField = "SA4_NAME11"
    shapePath = "geometry"
    order = 30
  }
  SA3 {
    url = "https://s3-ap-southeast-2.amazonaws.com/magda-files/SA3.geojson"
    idField = "SA3_CODE11"
    nameField = "SA3_NAME11"
    shapePath = "geometry"
    order = 40
  }
  SA2 {
    url = "https://s3-ap-southeast-2.amazonaws.com/magda-files/SA2.geojson"
    idField = "SA2_MAIN11"
    nameField = "SA2_NAME11"
    shapePath = "geometry"
    order = 50
  }
  SA1 {
    url = "https://s3-ap-southeast-2.amazonaws.com/magda-files/SA1.geojson"
    idField = "SA1_MAIN11"
    nameField = "SA2_NAME11",
    includeIdInName = true,
    shapePath = "geometry"
    order = 60
  }
  LGA {
    url = "https://s3-ap-southeast-2.amazonaws.com/magda-files/LGA.geojson"
    idField = "LGA_CODE15"
    nameField = "LGA_NAME15"
    shapePath = "geometry"
    order = 20
  }
  POA {
    url = "https://s3-ap-southeast-2.amazonaws.com/magda-files/POA.geojson"
    idField = "POA_CODE"
    nameField = "POA_NAME"
    shapePath = "geometry"
    order = 70
  }
  COM_ELB_ID_2016 {
    url = "https://s3-ap-southeast-2.amazonaws.com/magda-files/COM_ELB_ID_2016.geojson"
    idField = "DIV_ID"
    nameField = "SORTNAME"
    shapePath = "geometry"
    order = 80
  }
  STE {
    url = "https://s3-ap-southeast-2.amazonaws.com/magda-files/STE.geojson"
    idField = "STE_CODE11"
    nameField = "STE_NAME11"
    shapePath = "geometry"
    order = 10
  }
}

regionBufferMb = 50

elasticSearch {
	serverUrl = "elasticsearch://elasticsearch:9300"
	snapshotRepo {
		type = "fs"
		
		types {
			fs {
				location = "/snapshots"
			}
			
			s3 {
				bucket = magda-snapshots
				region = ap-southeast-1
				access_key = AKIAIJCLS3KSHDM2V5VA
				secret_key = ${S3_SECRET_KEY}
			}
		}
	}
}